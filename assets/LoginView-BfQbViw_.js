import{d as k,m as h,r as l,c as g,a as s,b as E,z as A,A as u,B as d,D as c,E as V,G as _,H as U,o as f,I as K,J as L,K as M,M as N,N as b,O as T,Q as C}from"./index-aXTdyAxE.js";import{E as P}from"./ErrorMessage-Bko-R8lc.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const R={class:"flex items-center justify-center min-h-screen"},S={class:"space-y-2"},B={for:"email",class:"block text-sm font-bold text-gray-900 text-left"},D={class:"space-y-2"},I={for:"password",class:"block text-sm font-bold text-gray-900"},W={class:"flex items-center space-x-2"},q={for:"isAdmin",class:"text-sm font-medium text-gray-900"},H={key:0,class:"space-y-2"},O={for:"apiKey",class:"block text-sm font-bold text-gray-900"},G=k({__name:"LoginView",setup(z){const y=h(),n=l(""),i=l(""),t=l(""),a=l(!1),p=l(""),m=U(),v=()=>{m.push("/register")},x=async r=>{if(r.preventDefault(),!K(n.value)){t.value="Wrong Email format";return}if(!L(i.value)){t.value="Wrong Password format";return}const e=a.value?M:N;try{const o=await e(n.value,i.value,a.value?p.value:"");console.log(o),o.status===b.Ok&&(y.setToken(o.data[T]),m.push("/"))}catch(o){w(o)}},w=r=>{r instanceof C&&r.response?r.response.status===b.Unauthorized?t.value="Wrong Api Key":t.value="Invalid username or password.":t.value="An unknown error occurred."};return(r,e)=>(f(),g("div",R,[s("form",{onSubmit:_(x,["prevent"]),class:"w-full max-w-md bg-white rounded-lg shadow-lg p-8 space-y-6"},[e[8]||(e[8]=s("h1",{class:"text-2xl font-bold text-gray-800 text-center"},"Login",-1)),s("div",S,[s("label",B,[e[4]||(e[4]=u("Email ")),d(s("input",{type:"text",id:"email","onUpdate:modelValue":e[0]||(e[0]=o=>n.value=o),placeholder:"Enter your email",class:"w-full px-4 py-2 border-2 border-black rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:outline-none text-gray-700",required:""},null,512),[[c,n.value]])])]),s("div",D,[s("label",I,[e[5]||(e[5]=u("Password ")),d(s("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=o=>i.value=o),placeholder:"Enter your password",class:"w-full px-4 py-2 border-2 border-black rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:outline-none text-gray-700",required:""},null,512),[[c,i.value]])])]),s("div",W,[s("label",q,[e[6]||(e[6]=u("Log in as Admin ")),d(s("input",{type:"checkbox",id:"isAdmin","onUpdate:modelValue":e[2]||(e[2]=o=>a.value=o),class:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"},null,512),[[V,a.value]])])]),a.value?(f(),g("div",H,[s("label",O,[e[7]||(e[7]=u("API Key ")),d(s("input",{type:"text",id:"apiKey","onUpdate:modelValue":e[3]||(e[3]=o=>p.value=o),placeholder:"Enter your API key",class:"w-full px-4 py-2 border-2 border-black rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:outline-none text-gray-700",required:""},null,512),[[c,p.value]])])])):E("",!0),e[9]||(e[9]=s("button",{type:"submit",class:"w-full bg-primary text-black py-2 rounded-lg font-bold hover:bg-blue-400 transition duration-300"}," Login ",-1)),s("button",{type:"button",onClick:v,class:"w-full bg-gray-600 text-white py-2 rounded-lg font-medium hover:bg-gray-700 transition duration-300"}," Register "),A(P,{message:t.value},null,8,["message"])],32)]))}});export{G as default};
//# sourceMappingURL=LoginView-BfQbViw_.js.map
